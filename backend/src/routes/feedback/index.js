const router = require('express').Router()
const asyncHandler = require('express-async-handler')
const FeedbackModel = require('../../models/feedback')

router.post(
   '/',
   asyncHandler(async (req, res, next) => {
      const feedback = { ...req.body }
      feedback.user = req.user._id
      feedback.date = new Date()
      req.data = await FeedbackModel.create(feedback)
      req.message = '–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî —Å–ø–∞—Å–∏–±–æ –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å, –æ–Ω–∞ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è ‚Äçüéì‚Äç'
      next()
   })
)

module.exports = router
